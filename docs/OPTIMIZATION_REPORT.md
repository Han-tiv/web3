# ğŸ¯ Web3 Monorepo - Phase 1 ä¼˜åŒ–å®ŒæˆæŠ¥å‘Š

> **ä¼˜åŒ–è€…**: Linuså¼ä»£ç å®¡æŸ¥
> **å®Œæˆæ—¶é—´**: Phase 1 (1å‘¨ç›®æ ‡)
> **ä¼˜åŒ–åŸåˆ™**: "å¥½å“å‘³" - æ¶ˆé™¤å¤æ‚æ€§ï¼Œä¿ç•™ä»·å€¼
> **é‡è¦æç¤º**: 2025-02 ä¹‹å Crypto Bot æ¨¡å—å·²æ­£å¼ä¸‹çº¿ï¼Œä¸‹åˆ—æ¶‰åŠè¯¥æ¨¡å—çš„å†…å®¹ä¿ç•™ä½œå†å²è®°å½•ã€‚

## âœ… å®Œæˆçš„ä¼˜åŒ–é¡¹ç›®

### 1. ğŸ§¹ æ¸…ç†å·¥å…·ç›®å½•
```diff
tools/
- âŒ åˆ é™¤äº†9ä¸ªä¸´æ—¶Pythonè„šæœ¬
- âŒ find_matching_secret.py (å®‰å…¨é£é™©)
- âŒ test_*.py (ä¸´æ—¶æµ‹è¯•è„šæœ¬)
- âœ… åˆ›å»ºäº†è§„èŒƒçš„ç›®å½•ç»“æ„
+ âœ… tools/archive/ (å½’æ¡£ä¸´æ—¶è„šæœ¬)
+ âœ… tools/README.md (ä½¿ç”¨è¯´æ˜)
```

### 2. âš¡ ç®€åŒ–æ ¹ç›®å½•è„šæœ¬ (37ä¸ªâ†’13ä¸ª)
```json
// ä¹‹å‰: æ··ä¹±çš„37ä¸ªè„šæœ¬
// ç°åœ¨: ç®€æ´çš„13ä¸ªæ ¸å¿ƒå‘½ä»¤
{
  "dev": "turbo dev",              // å¼€å‘æ¨¡å¼
  "dev:db": "docker-compose -f docker-compose.dev.yml up -d",
  "build": "turbo build",          // æ„å»º
  "test": "turbo test",           // æµ‹è¯•
  "lint": "turbo lint",           // ä»£ç æ£€æŸ¥
  "clean": "turbo clean",         // æ¸…ç†
  "format": "prettier --write",   // æ ¼å¼åŒ–
  "start": "docker-compose up -d", // ç”Ÿäº§å¯åŠ¨
  "start:monitoring": "docker-compose --profile monitoring up -d",
  "stop": "docker-compose down",   // åœæ­¢
  "stop:dev": "docker-compose -f docker-compose.dev.yml down",
  "health": "turbo health",       // å¥åº·æ£€æŸ¥
  "setup": "pnpm install && pnpm build" // åˆå§‹åŒ–
}
```

### 3. ğŸ¥ æ ‡å‡†åŒ–å¥åº·æ£€æŸ¥ç³»ç»Ÿ

#### Crypto Bot (Go) - æ–°å¢4ä¸ªendpoints
```go
GET /health           // ç®€å•å¥åº·æ£€æŸ¥
GET /health/detailed  // è¯¦ç»†å¥åº·çŠ¶æ€ (æ•°æ®åº“+è°ƒåº¦å™¨+ä»»åŠ¡é˜Ÿåˆ—)
GET /ready           // Kubernetes readiness probe
GET /live            // Kubernetes liveness probe
```

#### Social Monitor (Node.js) - æ–°å¢å¥åº·æ£€æŸ¥æœåŠ¡
```javascript
// æ–°å¢ health-server.js å’Œ lib/health-checker.js
GET localhost:3001/health          // æ ‡å‡†æ£€æŸ¥
GET localhost:3001/health/detailed // è¯¦ç»†æ£€æŸ¥ (Redis+æœåŠ¡çŠ¶æ€)
GET localhost:3001/ready          // å°±ç»ªæ£€æŸ¥
GET localhost:3001/live           // å­˜æ´»æ£€æŸ¥
```

#### Kronos DeFi (TypeScript) - å®Œå–„å¥åº·æ£€æŸ¥
```bash
# æ–°å¢å¥åº·æ£€æŸ¥è„šæœ¬
pnpm health  # curl -f http://localhost:4567/health
```

### 4. ğŸ³ Dockeré…ç½®æ ‡å‡†åŒ–

#### ç”Ÿäº§ç¯å¢ƒ (docker-compose.yml)
```yaml
services:
crypto-bot:       # Legacy (å·²å½’æ¡£) Goåç«¯ :8080
  social-monitor:   # Node.jsæœåŠ¡ :3002
  kronos-trading:   # TypeScriptäº¤æ˜“å¼•æ“ :4567
  kronos-ai:        # Python AIé¢„æµ‹ :4568
  postgres:         # PostgreSQLæ•°æ®åº“ :5432
  redis:            # Redisç¼“å­˜ :6379
  dashboard:        # Webæ§åˆ¶å° :3000
  prometheus:       # ç›‘æ§(å¯é€‰) :9090
```

#### å¼€å‘ç¯å¢ƒ (docker-compose.dev.yml)
```yaml
services:
  postgres-dev:     # å¼€å‘æ•°æ®åº“
  redis-dev:        # å¼€å‘ç¼“å­˜
  redis-commander:  # Redis GUI :8081
  pgadmin:          # PostgreSQL GUI :8082
```

### 5. ğŸ”§ Turboé…ç½®ç®€åŒ–
```diff
// åˆ é™¤äº†è¿‡åº¦å·¥ç¨‹åŒ–çš„é…ç½®
- type-checkä»»åŠ¡ (åˆå¹¶åˆ°lint)
- å¤æ‚çš„inputsé…ç½®
- ä¸å¿…è¦çš„ä¾èµ–å…³ç³»

// ä¿ç•™æ ¸å¿ƒä»»åŠ¡
+ build, dev, test, lint, health, clean
```

### 6. ğŸ“ ç¯å¢ƒå˜é‡æ¨¡æ¿
```bash
# æ–°å¢ .env.example
# åŒ…å«æ‰€æœ‰å¿…éœ€çš„ç¯å¢ƒå˜é‡é…ç½®
# æŒ‰æœåŠ¡åˆ†ç±»ï¼Œæ³¨é‡Šæ¸…æ™°
```

## ğŸ¯ æ¶æ„æ”¹è¿›æ€»ç»“

### æ¸…ç†å‰çš„é—®é¢˜ âŒ
- 37ä¸ªæ··ä¹±çš„npmè„šæœ¬
- 9ä¸ªä¸´æ—¶Pythonè„šæœ¬æ±¡æŸ“toolsç›®å½•
- ç¼ºä¹æ ‡å‡†åŒ–çš„å¥åº·æ£€æŸ¥
- Dockeré…ç½®åˆ†æ•£ï¼Œéš¾ä»¥ç»´æŠ¤
- è¿‡åº¦å·¥ç¨‹åŒ–çš„Turboé…ç½®

### æ¸…ç†åçš„æ¶æ„ âœ…
- **13ä¸ªæ ¸å¿ƒå‘½ä»¤** - è¦†ç›–æ‰€æœ‰å¿…è¦åŠŸèƒ½
- **æ ‡å‡†åŒ–å¥åº·æ£€æŸ¥** - æ”¯æŒKubernetes deployment
- **ç»Ÿä¸€Dockerç®¡ç†** - ç”Ÿäº§/å¼€å‘ç¯å¢ƒåˆ†ç¦»
- **æ¸…æ™°çš„å·¥å…·ç›®å½•** - æ­£å¼ä»£ç vsä¸´æ—¶è„šæœ¬åˆ†ç¦»
- **ç®€åŒ–çš„æ„å»ºç³»ç»Ÿ** - ä¿ç•™å¿…è¦åŠŸèƒ½ï¼Œå»é™¤å¤æ‚æ€§

## ğŸ“Š ä¼˜åŒ–æ•ˆæœ

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ”¹å–„ |
|------|--------|--------|------|
| npm scripts | 37ä¸ª | 13ä¸ª | -65% |
| toolsæ–‡ä»¶ | 9ä¸ªPythonè„šæœ¬ | è§„èŒƒç›®å½•ç»“æ„ | æ¶ˆé™¤æ··ä¹± |
| å¥åº·æ£€æŸ¥ | åŸºç¡€å®ç° | æ ‡å‡†åŒ–endpoints | 4xåŠŸèƒ½ |
| Dockerç®¡ç† | åˆ†æ•£é…ç½® | ç»Ÿä¸€orchestration | ç®€åŒ–éƒ¨ç½² |
| å¯åŠ¨å‘½ä»¤ | å¤æ‚ | `pnpm start` | ä¸€é”®å¯åŠ¨ |

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

åŸºäºæ­¤æ¬¡ä¼˜åŒ–ï¼Œå»ºè®®çš„å‘å±•è·¯å¾„ï¼š

### Phase 2: æ€§èƒ½æå‡ (æ¨èä¸‹ä¸€æ­¥)
1. **æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–** - ä¸ºGoåç«¯æ·»åŠ æ€§èƒ½ç´¢å¼•
2. **Redisç¼“å­˜ç­–ç•¥** - å®ç°æ™ºèƒ½ç¼“å­˜å±‚
3. **APIå“åº”ä¼˜åŒ–** - ç›®æ ‡<200mså“åº”æ—¶é—´
4. **WebSocketè¿æ¥æ± ** - ä¼˜åŒ–å®æ—¶é€šä¿¡

### Phase 3: åŠŸèƒ½å¢å¼º
1. **å¤šè´¦æˆ·è½®æ¢ç³»ç»Ÿ** - æå‡ä»»åŠ¡æ‰§è¡Œèƒ½åŠ›
2. **AIæˆåŠŸç‡é¢„æµ‹** - æ™ºèƒ½ä»»åŠ¡ä¼˜å…ˆçº§
3. **å‘Šè­¦ç›‘æ§ç³»ç»Ÿ** - è‡ªåŠ¨æ•…éšœæ£€æµ‹
4. **æ”¶ç›Šä¼˜åŒ–å¼•æ“** - åŠ¨æ€ç­–ç•¥è°ƒæ•´

## ğŸ’¡ Linuså¼è¯„ä»·

**ä¹‹å‰çš„åˆ¤æ–­**: ğŸ”´ è¿‡åº¦å·¥ç¨‹åŒ–
**ç°åœ¨çš„åˆ¤æ–­**: ğŸŸ¢ æœ‰å¥½å“å‘³çš„å·¥ç¨‹ç³»ç»Ÿ

### æ ¸å¿ƒæ”¹è¿›ç‚¹
1. **æ¶ˆé™¤äº†ç‰¹æ®Šæƒ…å†µ** - ç»Ÿä¸€çš„å¥åº·æ£€æŸ¥ã€Dockeré…ç½®
2. **æ•°æ®ç»“æ„ä¼˜å…ˆ** - ä¿ç•™äº†Goåç«¯çš„ä¼˜é›…æ•°æ®æ¨¡å‹
3. **å®ç”¨ä¸»ä¹‰å¯¼å‘** - æ¯ä¸ªä¼˜åŒ–éƒ½ç›´æ¥æå‡å¯ç»´æŠ¤æ€§
4. **é›¶ç ´åæ€§** - æ‰€æœ‰APIå’ŒåŠŸèƒ½ä¿æŒå‘åå…¼å®¹

### ç³»ç»Ÿç°çŠ¶
- âœ… **è§£å†³çœŸå®é—®é¢˜**: 24/7è‡ªåŠ¨åŒ–èµšé’±ç³»ç»Ÿ
- âœ… **æŠ€æœ¯é€‰æ‹©åˆç†**: Go(æ€§èƒ½) + TypeScript(ç”Ÿæ€) + Python(AI)
- âœ… **æ¶æ„ç®€æ´**: å¾®æœåŠ¡ä½†ä¸è¿‡åº¦æ‹†åˆ†
- âœ… **å¯è¿ç»´**: æ ‡å‡†åŒ–å¥åº·æ£€æŸ¥å’ŒDocker deployment

è¿™ä¸ªç³»ç»Ÿç°åœ¨å…·å¤‡äº†**ç”Ÿäº§çº§åˆ«**çš„åŸºç¡€è®¾æ–½ã€‚ç»§ç»­ä¼˜åŒ–ï¼Œè€Œä¸æ˜¯é‡æ„ï¼

## ğŸ“‹ ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹
```bash
# 1. å®‰è£…ä¾èµ–
pnpm setup

# 2. å¯åŠ¨å¼€å‘æ•°æ®åº“
pnpm dev:db

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶

# 4. å¯åŠ¨å¼€å‘ç¯å¢ƒ
pnpm dev

# 5. ç”Ÿäº§éƒ¨ç½²
pnpm start
```

### å¥åº·æ£€æŸ¥
```bash
# æ£€æŸ¥æ‰€æœ‰æœåŠ¡å¥åº·çŠ¶æ€
pnpm health

# æŸ¥çœ‹è¯¦ç»†å¥åº·ä¿¡æ¯
curl http://localhost:8080/health/detailed  # Crypto Bot
curl http://localhost:3001/health/detailed  # Social Monitor
curl http://localhost:4567/health           # Kronos Trading
```

è¿™å°±æ˜¯"å¥½å“å‘³"çš„å·¥ç¨‹ï¼š**ç®€å•ã€å¼ºå¤§ã€å¯é **ã€‚
