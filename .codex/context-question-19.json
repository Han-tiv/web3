{
  "question": "`mcp-shrimp-task-manager` MCP 为何在 Codex CLI 中持续超时，如何确保其稳定可用？",
  "analysis_timestamp": "2025-10-20T15:13:29Z",
  "evidence": [
    {
      "path": "~/.codex/log/codex-tui.log",
      "snippet": "2025-10-20T13:39:56.424741Z ERROR MCP client for `shrimp-task-manager` failed to start: request timed out",
      "insight": "CLI 多次尝试启动该服务器均在握手阶段超时，说明命令未在预期时间回应。"
    },
    {
      "path": "shell:shrimp-task-manager --help",
      "snippet": "bash: line 1: shrimp-task-manager: command not found",
      "insight": "PATH 中不存在同名命令，直接调用失败。"
    },
    {
      "path": "shell:npx -y mcp-shrimp-task-manager --help",
      "snippet": "exit code 0（无额外输出）",
      "insight": "通过 npx 调用可以立即返回成功，证明 npm 包可用；超时更可能源于首次下载或 CLI 不等待 `--help`/`stdio` 输出。"
    }
  ],
  "preliminary_conclusion": "缺少全局别名导致直接调用失败，同时 CLI 在首次拉取或执行命令时等待包解压而超时。手动使用 npx 成功说明可通过预热缓存或提供 wrapper 脚本解决。",
  "follow_up_actions": [
    "编写 `~/bin/shrimp-task-manager` 脚本（或在 config 中直接指向 `npx -y mcp-shrimp-task-manager`），确保命令存在。",
    "在 Codex 启动前执行一次 `npx -y mcp-shrimp-task-manager --help` 预热 npm 缓存，避免初次下载导致的超时。",
    "必要时调整 Codex 配置中的 `mcp_servers.shrimp-task-manager.args`，增加 `--stdio`/`--timeout` 等参数以配合 CLI 的握手时序。"
  ]
}
