{
  "question": "BinanceClient 是否已提供设置逐仓/全仓和单币种/多币种保证金的接口？如果没有，扩展最佳位置在哪里？",
  "reason": "用户需要切换到逐仓模式与单币种保证金，必须确认现有封装能力以决定是否新增 API 调用。",
  "analysis": "逐字审阅 apps/rust-trading-bot/src/binance_client.rs，只有 change_leverage、market_order、set_position_mode 等函数，未发现对 /fapi/v1/marginType 或 /fapi/v1/multiAssetsMargin 的封装。open_short 仅调用 set_position_mode(false) 设置单向持仓，并未处理 marginType。扩展这两个接口最合理的位置是 BinanceClient impl 内，沿用现有签名机制。",
  "evidence": [
    {
      "path": "apps/rust-trading-bot/src/binance_client.rs:129",
      "details": "open_long/open_short 只调用 change_leverage 与 market_order，缺少 marginType 设置。"
    },
    {
      "path": "apps/rust-trading-bot/src/binance_client.rs:204",
      "details": "change_leverage 仅针对 /fapi/v1/leverage，未包含 marginType。"
    },
    {
      "path": "apps/rust-trading-bot/src/binance_client.rs:275",
      "details": "set_position_mode 调整 dualSidePosition，与 marginType/单币种模式无关。"
    }
  ],
  "conclusion": "当前 BinanceClient 不支持设置 marginType 或 multiAssetsMargin，应在同一 impl 中新增 `set_margin_type(symbol, margin_type)` 与 `set_multi_assets_margin(enabled)` 等函数，并在开仓前调用。"
}
