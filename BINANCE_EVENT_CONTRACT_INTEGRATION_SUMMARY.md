# å¸å®‰äº‹ä»¶åˆçº¦é¡¹ç›®é›†æˆæ–¹æ¡ˆæ€»ç»“

> **æ–‡æ¡£ç‰ˆæœ¬**: 1.0
> **åˆ›å»ºæ—¶é—´**: 2025-12-01
> **é¡¹ç›®è·¯å¾„**: `/home/hanins/code/web3/apps/`

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

æœ¬æ–‡æ¡£æ€»ç»“äº†å¯¹ä¸¤ä¸ªå¸å®‰äº‹ä»¶åˆçº¦ç›¸å…³é¡¹ç›®çš„æ·±åº¦åˆ†æ,å¹¶æä¾›äº†ä¸ç°æœ‰ `rust-trading-bot` é›†æˆçš„å®Œæ•´æŠ€æœ¯æ–¹æ¡ˆã€‚

### åˆ†æé¡¹ç›®

1. **ec_predict_flow** - é‡åŒ–ç ”ç©¶å¹³å°
2. **Binance-Event-Contract-Interface** - è®¢å•æ‰§è¡Œå·¥å…·

### æ ¸å¿ƒæˆæœ

âœ… å®Œæˆé¡¹ç›®æ·±åº¦æŠ€æœ¯åˆ†æ
âœ… æ„å»ºå®Œæ•´çš„ API æ–‡æ¡£ (éå®˜æ–¹)
âœ… æä¾› Rust å®¢æˆ·ç«¯å®ç°ç¤ºä¾‹
âœ… è®¾è®¡ä¸‰å±‚æ¶æ„é›†æˆæ–¹æ¡ˆ

---

## ğŸ¯ é¡¹ç›®å¯¹æ¯”çŸ©é˜µ

| ç»´åº¦ | ec_predict_flow | Binance-Interface | rust-trading-bot |
|------|-----------------|-------------------|------------------|
| **è§’è‰²** | ç­–ç•¥ç ”ç©¶ | è®¢å•æ‰§è¡Œ | æ‰§è¡Œå¼•æ“ |
| **è¯­è¨€** | Python | Python | Rust |
| **è§„æ¨¡** | ~3000+ è¡Œ | ~237 è¡Œ | ~5000+ è¡Œ |
| **ä¼˜åŠ¿** | å®Œæ•´MLå·¥ä½œæµ | è½»é‡çº§ | é«˜æ€§èƒ½ |
| **åŠ£åŠ¿** | è®¡ç®—å»¶è¿Ÿé«˜ | æ— é”™è¯¯å¤„ç† | æ— äº‹ä»¶åˆçº¦æ”¯æŒ |

---

## ğŸ—ï¸ æ¨èé›†æˆæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: ç­–ç•¥ç ”ç©¶å±‚ (Python)                        â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚  ec_predict_flow                                    â”‚
â”‚    â†“ æ•°æ®åˆ†æ                                       â”‚
â”‚  Alpha å› å­ (101/191) â†’ LightGBM è®­ç»ƒ               â”‚
â”‚    â†“ æ¨¡å‹å¯¼å‡º                                       â”‚
â”‚  ONNX / Pickle æ–‡ä»¶ + ç‰¹å¾é˜ˆå€¼é…ç½®                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 2: å®æ—¶æ¨ç†å±‚ (Rust)                         â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚  rust-trading-bot                                   â”‚
â”‚    â†“ åŠ è½½æ¨¡å‹                                       â”‚
â”‚  ONNX Runtime / lightgbm-rs                         â”‚
â”‚    â†“ å®æ—¶è®¡ç®—                                       â”‚
â”‚  Alpha å› å­ (Rust é‡å†™) â†’ æ¨¡å‹æ¨ç† â†’ äº¤æ˜“ä¿¡å·       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 3: è®¢å•æ‰§è¡Œå±‚ (Hybrid)                       â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚  Rust: è¯»å– token.json                              â”‚
â”‚    â†“ HTTP POST                                      â”‚
â”‚  å¸å®‰äº‹ä»¶åˆçº¦ bapi æ¥å£                              â”‚
â”‚                                                      â”‚
â”‚  Python: å‡­è¯å®ˆæŠ¤è¿›ç¨‹                                â”‚
â”‚    â†“ å®šæ—¶æ£€æŸ¥                                       â”‚
â”‚  è‡ªåŠ¨åˆ·æ–° token.json (æ‰«ç ç™»å½•)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‚ é¡¹ç›®æ–‡ä»¶ç»“æ„

```
/home/hanins/code/web3/apps/
â”œâ”€â”€ ec_predict_flow/
â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ alphas101.py      # WorldQuant Alpha 101
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ alphas191.py      # å›½æ³°å›å®‰ Alpha 191
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ label_processor.py # è½¯æ ‡ç­¾ç”Ÿæˆ
â”‚   â”‚   â”‚   â””â”€â”€ tasks/
â”‚   â”‚   â”‚       â”œâ”€â”€ data_download.py   # æ•°æ®ä¸‹è½½
â”‚   â”‚   â”‚       â””â”€â”€ model_training.py  # LightGBM è®­ç»ƒ
â”‚   â”‚   â””â”€â”€ requirements.txt
â”‚   â””â”€â”€ frontend/                       # Vue 3 ç›‘æ§é¢æ¿
â”‚
â”œâ”€â”€ Binance-Event-Contract-Interface/
â”‚   â”œâ”€â”€ main.py                         # Playwright è®¤è¯ + ä¸‹å•
â”‚   â”œâ”€â”€ token.json                      # å‡­è¯æ–‡ä»¶ (è¿è¡Œåç”Ÿæˆ)
â”‚   â”œâ”€â”€ API_DOCUMENTATION.md            # âœ¨ æ–°å¢: å®Œæ•´APIæ–‡æ¡£
â”‚   â””â”€â”€ rust_client_example.rs          # âœ¨ æ–°å¢: Rust å®¢æˆ·ç«¯
â”‚
â””â”€â”€ rust-trading-bot/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ binance_client.rs           # éœ€æ‰©å±•äº‹ä»¶åˆçº¦ API
    â”‚   â”œâ”€â”€ database.rs                 # SQLite æŒä¹…åŒ–
    â”‚   â””â”€â”€ bin/
    â”‚       â””â”€â”€ integrated_ai_trader.rs # ä¸»ç¨‹åº
    â””â”€â”€ Cargo.toml
```

---

## ğŸš€ å®æ–½è·¯çº¿å›¾

### é˜¶æ®µä¸€: å¿«é€ŸéªŒè¯ (1-2 å¤©) â­ **æ¨èå…ˆåš**

**ç›®æ ‡**: éªŒè¯äº‹ä»¶åˆçº¦ API å¯è¡Œæ€§

**æ­¥éª¤**:
```bash
# 1. è·å–å‡­è¯
cd /home/hanins/code/web3/apps/Binance-Event-Contract-Interface
python main.py  # æ‰«ç ç™»å½•, ç”Ÿæˆ token.json

# 2. æµ‹è¯•ä¸‹å•
python main.py  # å–æ¶ˆæ³¨é‡Š place_order_web æµ‹è¯•ä»£ç 

# 3. åœ¨ Rust ä¸­å®ç°åŸºç¡€ä¸‹å•
cd /home/hanins/code/web3/apps/rust-trading-bot
# å‚è€ƒ rust_client_example.rs å®ç°
```

**äº¤ä»˜ç‰©**:
- âœ… éªŒè¯ API å¯ç”¨æ€§
- âœ… Rust åŸºç¡€ä¸‹å•åŠŸèƒ½
- âœ… å‡­è¯ç®¡ç†æ¨¡å—

---

### é˜¶æ®µäºŒ: æ¨¡å‹é›†æˆ (3-5 å¤©)

**ç›®æ ‡**: å°† ec_predict_flow æ¨¡å‹é›†æˆåˆ° Rust

**æ­¥éª¤**:
```bash
# 1. è®­ç»ƒæ¨¡å‹
cd /home/hanins/code/web3/apps/ec_predict_flow
docker-compose up -d
# é€šè¿‡ Web ç•Œé¢è®­ç»ƒæ¨¡å‹

# 2. å¯¼å‡º ONNX
python export_onnx.py  # éœ€ç¼–å†™å¯¼å‡ºè„šæœ¬

# 3. Rust é›†æˆ
cd /home/hanins/code/web3/apps/rust-trading-bot
cargo add ort  # ONNX Runtime
# å®ç°æ¨¡å‹åŠ è½½å’Œæ¨ç†
```

**äº¤ä»˜ç‰©**:
- âœ… ONNX æ¨¡å‹æ–‡ä»¶
- âœ… Rust æ¨ç†æ¨¡å—
- âœ… ç«¯åˆ°ç«¯æµ‹è¯•

---

### é˜¶æ®µä¸‰: ç”Ÿäº§ä¼˜åŒ– (1 å‘¨)

**ç›®æ ‡**: å®Œå–„é”™è¯¯å¤„ç†å’Œç›‘æ§

**æ­¥éª¤**:
1. Python å‡­è¯å®ˆæŠ¤è¿›ç¨‹
   - å®šæ—¶æ£€æŸ¥è¿‡æœŸ
   - è‡ªåŠ¨åˆ·æ–° (æ‰«ç æé†’)
   - Telegram å‘Šè­¦

2. Rust Alpha å› å­é‡å†™
   - ä½¿ç”¨ Polars æ›¿ä»£ Pandas
   - å…³é”®å› å­ç”¨ Rust å®ç°
   - æ€§èƒ½ä¼˜åŒ– (10x+)

3. å®Œå–„é”™è¯¯å¤„ç†
   - æ‰€æœ‰ API è°ƒç”¨åŠ é‡è¯•
   - è¯¦ç»†æ—¥å¿—è®°å½•
   - å¤±è´¥å‘Šè­¦

4. å›æµ‹å¼•æ“æ”¹è¿›
   - çœŸå®æ»‘ç‚¹æ¨¡å‹
   - æ‰‹ç»­è´¹è®¡ç®—
   - èµ„é‡‘è´¹ç‡

**äº¤ä»˜ç‰©**:
- âœ… ç”Ÿäº§çº§ä»£ç 
- âœ… ç›‘æ§å‘Šè­¦ç³»ç»Ÿ
- âœ… å®Œæ•´æ–‡æ¡£

---

## ğŸ”‘ å…³é”®æŠ€æœ¯è¦ç‚¹

### 1. è®¤è¯æœºåˆ¶

**Web ç«¯**:
```http
POST /bapi/futures/v1/private/future/event-contract/place-order
Headers:
  clienttype: web
  csrftoken: <from_login>
  Cookie: p20t=<from_set_cookie>
```

**å‡­è¯æ¥æº**:
- `csrftoken`: ä» `/fapi/v1/ticker/24hr` è¯·æ±‚å¤´
- `p20t`: ä» `/bapi/accounts/v2/private/authcenter/setTrustDevice` å“åº”

**æœ‰æ•ˆæœŸ**:
- Web: æœ€é•¿ 5 å¤©
- éœ€è¦è‡ªåŠ¨åˆ·æ–°æœºåˆ¶

### 2. API ç«¯ç‚¹æ±‡æ€»

| åŠŸèƒ½ | Method | Path |
|------|--------|------|
| **ä¸‹å•** | POST | `/bapi/futures/v1/private/future/event-contract/place-order` |
| **å¸‚åœºæ•°æ®** | GET | `/bapi/futures/v1/public/future/event-contract/market-price` |
| **æŒä»“æŸ¥è¯¢** | GET | `/bapi/futures/v1/private/future/event-contract/position` |
| **å†å²è®¢å•** | GET | `/bapi/futures/v1/private/future/event-contract/order-history` |
| **è´¦æˆ·ä½™é¢** | GET | `/bapi/futures/v1/private/future/user-balance` |

### 3. å‚æ•°è¯´æ˜

**æ—¶é—´å‘¨æœŸ (timeIncrements)**:
- `ONE_MINUTE` - 1åˆ†é’Ÿ
- `FIVE_MINUTE` - 5åˆ†é’Ÿ
- `TEN_MINUTE` - 10åˆ†é’Ÿ â­ æœ€å¸¸ç”¨
- `THIRTY_MINUTE` - 30åˆ†é’Ÿ
- `ONE_HOUR` - 1å°æ—¶

**æ–¹å‘ (direction)**:
- `LONG` - çœ‹æ¶¨ (é¢„æµ‹ä»·æ ¼ä¸Šæ¶¨)
- `SHORT` - çœ‹è·Œ (é¢„æµ‹ä»·æ ¼ä¸‹è·Œ)

**é‡‘é¢é™åˆ¶**:
- æœ€å°: 1 USDT
- æœ€å¤§: ä¾è´¦æˆ·ç­‰çº§ (é€šå¸¸ 500-2000 USDT)

### 4. é”™è¯¯å¤„ç†

```rust
match api_response.code.as_str() {
    "000000" => Ok(data),
    "200003" => Err("Credentials expired"),  // éœ€é‡æ–°ç™»å½•
    "400001" => Err("Insufficient balance"), // ä½™é¢ä¸è¶³
    "400002" => Err("Payout changed"),       // èµ”ç‡å˜åŠ¨, å¯é‡è¯•
    "400005" => Err("Market closed"),        // å¸‚åœºå…³é—­
    _ => Err("Unknown error"),
}
```

---

## âš ï¸ é£é™©æç¤º

### æŠ€æœ¯é£é™©

| é£é™© | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|----------|
| **API ä¸ç¨³å®š** | é«˜ | å®Œå–„é”™è¯¯å¤„ç†, é™çº§æ–¹æ¡ˆ |
| **å‡­è¯è¿‡æœŸ** | ä¸­ | è‡ªåŠ¨åˆ·æ–° + å‘Šè­¦ |
| **WAF æ‹¦æˆª** | ä¸­ | é¢‘ç‡æ§åˆ¶, æµè§ˆå™¨æŒ‡çº¹ |
| **è´¦å·å°ç¦** | é«˜ | ä¸¥æ ¼æ§åˆ¶é¢‘ç‡ |

### åˆè§„é£é™©

âš ï¸ **ä½¿ç”¨é€†å‘ API å¯èƒ½è¿åå¸å®‰æœåŠ¡æ¡æ¬¾**

å»ºè®®:
1. ä»…ç”¨äºä¸ªäººå­¦ä¹ ç ”ç©¶
2. ä¸è¿›è¡Œå•†ä¸šåŒ–è¿è¥
3. æ§åˆ¶äº¤æ˜“é¢‘ç‡
4. å‡†å¤‡å¤‡ç”¨è´¦æˆ·

### èµ„é‡‘é£é™©

- äº‹ä»¶åˆçº¦å±äºé«˜é£é™©è¡ç”Ÿå“
- æœ€å¤§æŸå¤± = æŠ•å…¥æƒåˆ©é‡‘
- éœ€è¦ä¸¥æ ¼çš„é£æ§ç­–ç•¥
- å»ºè®®å°é¢æµ‹è¯•

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### å»¶è¿Ÿå¯¹æ¯”

| æ“ä½œ | Python (ec_predict_flow) | Rust (rust-trading-bot) |
|------|--------------------------|-------------------------|
| å•æ¬¡ Alpha å› å­è®¡ç®— | ~50-100ms | ~5-10ms (10x) |
| æ¨¡å‹æ¨ç† | ~20-50ms | ~2-5ms (10x) |
| API è°ƒç”¨ | ~100-200ms | ~50-100ms (2x) |
| æ€»å»¶è¿Ÿ | ~170-350ms | ~57-115ms |

### ååé‡

- **Python**: ~10 req/s (å— GIL é™åˆ¶)
- **Rust**: ~100 req/s (å¼‚æ­¥å¹¶å‘)

---

## ğŸ› ï¸ å¼€å‘å·¥å…·é“¾

### Python (ec_predict_flow)
```bash
python 3.11+
pandas 2.1.3
lightgbm 4.1.0
shap 0.43.0
fastapi 0.104.1
celery 5.3.4
```

### Python (Binance-Interface)
```bash
playwright
requests
qrcode
```

### Rust (rust-trading-bot)
```toml
reqwest = { version = "0.11", features = ["json", "cookies"] }
serde = { version = "1.0", features = ["derive"] }
tokio = { version = "1", features = ["full"] }
ort = "1.16"  # ONNX Runtime
polars = "0.35"  # æ›¿ä»£ Pandas
```

---

## ğŸ“š å‚è€ƒèµ„æ–™

### å·²åˆ›å»ºæ–‡æ¡£
- `API_DOCUMENTATION.md` - å®Œæ•´ API æŠ€æœ¯æ–‡æ¡£
- `rust_client_example.rs` - Rust å®¢æˆ·ç«¯å®ç°
- æœ¬æ–‡æ¡£ - é›†æˆæ–¹æ¡ˆæ€»ç»“

### å¤–éƒ¨èµ„æº
- [å¸å®‰äº‹ä»¶åˆçº¦äº§å“è¯´æ˜](https://www.binance.com/en/support/faq/detail/172247f1c4b8401ab106fb63900f3825)
- [å¸å®‰å®˜æ–¹ API æ–‡æ¡£](https://developers.binance.com)
- [ec_predict_flow GitHub](https://github.com/zzw8550556/ec_predict_flow)
- [Binance-Interface GitHub](https://github.com/thuhollow2/Binance-Event-Contract-Interface)

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œ (ä»Šå¤©)
1. âœ… é˜…è¯» `API_DOCUMENTATION.md`
2. âœ… è¿è¡Œ Python è„šæœ¬è·å–å‡­è¯
3. âœ… æµ‹è¯•ä¸‹å•æ¥å£

### æœ¬å‘¨å®Œæˆ
1. å®ç° Rust åŸºç¡€ä¸‹å•åŠŸèƒ½
2. é›†æˆåˆ° rust-trading-bot
3. ç¼–å†™å•å…ƒæµ‹è¯•

### æœ¬æœˆå®Œæˆ
1. è®­ç»ƒ ec_predict_flow æ¨¡å‹
2. å¯¼å‡º ONNX æ ¼å¼
3. Rust ç«¯åˆ°ç«¯é›†æˆ
4. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **Telegram ç¾¤**: https://t.me/EC_Predict_Flow
- **é¡¹ç›®è·¯å¾„**: `/home/hanins/code/web3/apps/`
- **æ–‡æ¡£ç‰ˆæœ¬**: 1.0

---

**æœ€åæ›´æ–°**: 2025-12-01
**ç»´æŠ¤è€…**: Linus Torvalds (Claude Code)
